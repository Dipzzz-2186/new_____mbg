//- src/views/dapur/order_detail.pug
extends ../layout

block content
  .container
    .d-flex.justify-content-between.align-items-center.mb-4
      .d-flex.flex-column
        h3.mb-0 Detail Order ##{order.id}
        small.text-muted.mt-1= (order.created_at ? order.created_at : '')
      .text-end
        a.btn.btn-sm.btn-outline-secondary(href='/dapur/dashboard') ‚Üê Kembali

    .row.g-4
      .col-12
        .card.shadow-sm
          .card-body
            h5.mb-3 Ringkasan
            dl.row
              dt.col-sm-3 Total
              dd.col-sm-9 Rp #{ Number(order.total || 0).toLocaleString('id-ID') }
              dt.col-sm-3 Status
              dd.col-sm-9= order.status

            hr

            h6.mb-3 Item Pesanan
            if items && items.length
              table.table.table-hover
                thead
                  tr
                    th Produk
                    th.text-center Qty
                    th.text-end Harga
                    th.text-center Status
                tbody
                  each it in items
                    tr
                      td= it.product_name
                      td.text-center= it.qty
                      td.text-end Rp #{ Number(it.price || 0).toLocaleString('id-ID') }
                      td.text-center
                        if it.vendor_status
                          if it.vendor_status === 'shipped'
                            span.badge.bg-success= it.vendor_status
                          else if it.vendor_status === 'preparing'
                            span.badge.bg-warning.text-dark= it.vendor_status
                          else if it.vendor_status === 'pending'
                            span.badge.bg-secondary= it.vendor_status
                          else
                            span.badge.bg-info= it.vendor_status
                        else
                          span.text-muted - 
            else
              p.text-muted.mb-0 Tidak ada item di order ini.
